<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Esqueci minha senha</title>
  <link rel="stylesheet" href="/css/esqueci-senha.css" />
</head>
<body>

  <div class="container">
    <h1>Recuperar Senha</h1>

    <% if (erro) { %>
      <div id="mensagem" class="<%= tipo === 'sucesso' ? 'sucesso' : 'erro' %>">
        <%= erro %>
      </div>
    <% } %>

    <form id="form-recuperar" action="/esqueci-senha" method="POST">
      <input type="email" name="email" placeholder="Digite seu e-mail" required />
      <button type="submit">Enviar link de redefinição</button>
    </form> 

    <button onclick="location.href='/login'">Voltar</button>

    <% if (link) { %>
      <div class="link-redefinicao">
        <p>Link de redefinição (apenas para teste):</p>
        <a href="<%= link %>" target="_blank"><%= link %></a>
      </div>
    <% } %>
  </div>

  <script>
    // esconde a mensagem de erro ou sucesso após 5 segundos
    setTimeout(() => {
      const msg = document.getElementById('mensagem');
      if (msg) msg.style.display = 'none';
    }, 5000);
  </script>
</body>
</html>
